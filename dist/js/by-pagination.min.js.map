{"version":3,"sources":["by-pagination.js"],"names":["self","factory","define","exports","e","require","root","$a","jQuery","Pagination","element","options","this","$el","$","firstLastTxt","firstLastBtn","prevNextBtn","page","to","data","_typeof","Symbol","iterator","obj","constructor","pageTemplate","pages","$first","find","prevNextTxt","$p1","$p2","on","$active","insertBefore","proxy","first","text","$last","i","insertAfter","last","$prev","prev","next","prototype","parseInt","trigger","render","$plus2","$minus1","$minus2","show","$plus1","$plus3","$hellip2","hide","$minus5","addClass","$hellip1","$minus4","$plus4","$plus5","removeClass","$this","option","fn","Plugin","call","byPagination"],"mappings":"CAEE,SAAAA,EAAAC,yCAEAC,QAAA,UAAAD,GAKY,gBAAAE,SAHZC,OAAIJ,QAAJC,EAAAI,QAAA,WAEAC,EAAAC,aAAAN,EAAAK,EAAAE,SAEEJ,KAAAA,SAAAA,GAKA,YAAA,SANFK,GAAAC,EAAAC,GAWDC,KAAAC,IAAAC,EAAAJ,0CADED,KAAAA,MAMDM,IAAAA,GAAAA,IADAC,MAAAA,IAAAA,GAAAA,sBAAAA,IAAAA,SAAAA,GASAC,EAAAA,gBAdC,IAAAV,GAAAO,EAAAF,qCAsBGM,EAAAA,KAAO,SAAAlB,EAAXmB,GAAAZ,EAAAa,KAAA,sSAxBE,GAAAC,GAAA,kBAAAC,SAAA,gBAAAA,QAAAC,SAAA,SAAAC,GAAA,aAAAA,IAAA,SAAAA,GAAA,MAAAA,IAAA,kBAAAF,SAAAE,EAAAC,cAAAH,OAAA,eAAAE,uBA8BFR,cAASL,EACPI,cAAA,KAAgBW,MAChBC,MAAKC,SAQNF,aAAA,oDAHCT,aAAWY,EAOXC,aAAA,MAAA,QAYArB,EAAKsB,UAASL,KAAAA,WACd,GAAAR,GAAKc,KAAMlB,QACXmB,KANDN,EAAAf,KAAAD,QAAAgB,iCAWGf,MAAAsB,QAAAR,EAAAA,GAAuBA,SAAAA,KAAcS,KAAAA,SAArC,UAEAvB,KAAAoB,QAAAN,eACAd,KAAAoB,OAAAlB,EAAAY,GAAAS,aAAAvB,KAAyCM,SAC1CN,KAAAgB,OAAAC,KAAA,KAAAI,GAAA,sBAAAnB,EAAAsB,MAAAxB,KAAAyB,MAAAzB,OAAA0B,KAAA1B,KAAAD,QAAAI,aAAA,IANHH,KAAK2B,MAALzB,EAAgB0B,GAAaC,YAAA7B,KAAAsB,SAS7BtB,KAAIe,MAAAA,KAAW,KAAAM,GAAA,sBAAAnB,EAAAsB,MAAAxB,KAAA8B,KAAA9B,OAAA0B,KAAA1B,KAAAD,QAAAI,aAAA,KAObH,KAAAD,QAAAM,cAKDL,KAAA+B,MAAA7B,EAAAY,GAAAS,aAAAvB,KAAAM,SAfEN,KAAA+B,MAAAd,KAAA,KAAAI,GAAA,sBAAAnB,EAAAsB,MAAAxB,KAAAgC,KAAAhC,OAAA0B,KAAA1B,KAAAD,QAAAmB,YAAA,8CAGHlB,KAAIe,MAAJE,KAAe,KAAAI,GAAA,sBAAAnB,EAAAsB,MAAAxB,KAAAiC,KAAAjC,OAAA0B,KAAA1B,KAAAD,QAAAmB,YAAA,KAuBfH,EAAKO,IAXJtB,KAAAmB,IAAAjB,EAAAY,GAAAS,aAAAvB,KAAAsB,mDAkBHzB,KAAAA,IAAWqC,EAAAA,GAAXrC,YAAAA,KAAAA,SA7EAA,KAAAA,IAAAA,KAAAA,KAAAA,KAAAA,OAAAA,GAAAA,KAAAA,gCAmFAA,KAAAqC,SAAA3B,GAAAL,EAAAY,GAAAS,aAAAvB,KAAAsB,SAfEtB,KAAKD,SAAeoC,GAAAA,KAAAA,KAAA3B,KAAkB,OAAtCF,EAAAsB,GACA5B,KAASoC,QAAQR,GAAA1B,EAAAY,GAAsBe,YAAavB,KAApDgB,SAiBFzB,KAAAA,QAAWqC,GAAXrC,KAAAA,KAAAA,KAAAA,OAAAA,EAAAA,GAICkB,GAAA,8GAbDlB,KAAAA,SAAAK,EAAqBuB,oEAAmBF,aAAAvB,KAAAoB,MAmBtCpB,KAAIO,OAAJP,KAAAD,QAAAO,OAVFT,EAAWqC,UAAUF,GAArB,SAA4B1B,GAC1BN,KAAID,QAAKA,KAAQO,SAAWA,IAAA,EAiB9BT,KAAAA,IAAAA,QAAAA,qBAAAA,KAAAA,QAAAA,MACEG,KAAIO,QAAKR,GAAAA,QAnBXC,KAAAqC,OAAArC,KAAAD,QAAAO,OAUET,EAASE,UAAQO,MAAQ,WAiB3BT,GAAAA,KAAAA,QAAAA,OACEG,KAAIe,QAAQhB,KAARgB,EAnBNf,KAAAO,GAAA,KA0BEV,EAAKyC,UAAYhC,KAAKE,WAftBR,KAAKD,QAALO,MAAyBP,IAiBzBO,KAAAA,QAAWP,OAHXC,KAAAO,GAAAP,KAAAD,QAAAO,QAUET,EAAAkB,UAAYE,KAAUT,mDAEtBF,KAAAA,QAAAW,OACDjB,KAAAuC,GAAAA,KAAAtB,QAAAX,QAMCA,EAAAA,UAAYA,KAAOS,WACpBT,KAAAP,QAAAyC,MAAAC,KAAA1C,QAAAyC,QAfDlC,KAAAA,QAAOS,KAAYf,KAAK0C,QAAOD,MAiB/BnC,KAAAA,GAAIS,KAAAA,QAAWA,SAVbT,EAAO4B,UAAK5B,OAAOS,SAAiB4B,GAiBtC,GAAA5B,GAAAf,KAAAD,QAAAgB,KAEET,MAAAA,QAAAA,KAAW,KAAAoB,KAAApB,GACXA,KAAAA,QAAAA,KAAOS,KAAPT,KAAmBE,OAAnBF,EAAiCmC,GAAjCnC,KAA0CoB,EAAKkB,GAChD5C,KAAAwC,QAAAvB,KAAA,KAAAT,KAAA,OAAAF,EAAAA,GAAAoB,KAAApB,EAAAA,GAEDA,KAAAA,OAAAA,KAAWA,KAASmC,KAAAA,OAASnC,EAASuC,GAAtCJ,KAA6BnC,EAA7B,GACAA,KAAAA,OAAAA,KAAAA,KAAAA,KAAAA,OAAAA,EAAAA,GAAAA,KAAAA,EAAAA,GAEAA,EAAAS,EAAAA,KAAAwB,QAAAE,OAAAzC,KAAAuC,QAAAM,OACAvC,EAAIwC,EAAAA,KAAK/C,QAAT0C,OAAAzC,KAA+BM,QAA/BuC,OACEvC,EAAIA,EAAQW,EAAGjB,KAAAQ,OAAAiC,OAAAnC,KAAfoC,OAAepC,OACbA,EAAAA,EAAKU,EAALhB,KAAY+C,OAASD,OAArB9C,KAAAsC,OAAAQ,OAEA/B,EAAA,sDAdJf,KAAA2C,OAAA1B,KAAA,KAAAT,KAAA,OAAAF,EAAA,GAAAoB,KAAApB,EAAA,GAiBEA,EAAAS,EAAYA,GAAAA,EAAAA,EAAAA,KAAAA,QAAAA,OAAAA,KAAAA,QAAAA,OACVT,EAAKqB,GAAAA,EAAMoB,EAASN,EAApBzC,KAAA2C,OAAAK,OAAAhD,KAAA2C,OAAAE,cAIHvC,KAAA2C,QAAAhC,KAAAwB,KAAAjC,KAAA,OAAAqC,EAAA,GAAAnB,KAAApB,EAAA,GAfDA,KAAOS,OAAPE,KAAe,KAASwB,KAAT,OAAkBnC,EAASuC,GAATnB,KAAjCpB,EAAA,sDAkBEA,EAAA,GAAAA,EAAAS,EAAA,EAAAf,KAAAkD,OAAAT,OAAAzC,KAAAkD,OAAAL,QAGE9B,EAAKgB,IACN/B,KAFA8C,QAEA7B,KAAA,KAAAT,KAAA,OAAAF,EAAA,GAAAoB,KAAApB,EAAA,GAfCN,KAAAmD,OAAKnC,KAAOoC,KAAAA,KAAY,OAAA9C,EAAxB,GAAAoB,KAAApB,EAAA,GAiBFA,EAAAS,EAAA,EAAAf,KAAA8C,QAAAL,OAAAzC,KAAA8C,QAAAD,kDAKD9B,EAAAY,IAxEHrB,EAAA,EAAAN,KAAAgD,SAAAP,OAAAzC,KAAAgD,SAAAH,OA0DGvC,EAAAS,EAAA,EAAAf,KAAA4C,SAAAH,OAAAzC,KAAA4C,SAAAC,QAmBCvC,EAAI+C,EAAAA,KAAJlC,IAAgBsB,OAAAzC,KAAAmB,IAAA0B,OAChBvC,EAAAS,EAAcsC,KAAAA,IAAWZ,OAAAzC,KAAzBoB,IAAAyB,OAGA7C,KAAAD,QAAAK,oBAEAJ,KAAIM,OAAOgD,SAAP,YAAJtD,KAEHgB,OAAAoC,YAAA,YAGCG,GAAAA,EAxEEvD,KAAA2B,MAAAoB,SAAA,YA2EFS,KAAOC,MAAOH,YAAA,aAZZtD,KAAID,QAAUG,mBAEdF,KAAKQ,MAAM6C,SAAW,YAEtBrD,KAAI+B,MAAOuB,YAAU,iBAIpBI,KAAAA,MAALX,SAAA","file":"by-pagination.min.js","sourcesContent":["function Pagination(element, options) {\r\n  this.$el      = $(element)\r\n  this.options  = $.extend({}, Pagination.DEFAULTS, options)\r\n\r\n  this.init()\r\n\r\n  var self = this\r\n\r\n  // 绑定点击事件\r\n  this.$el.on('click.by.pagination', 'a', function(e) {\r\n    e.preventDefault()\r\n\r\n    var $a = $(this)\r\n\r\n    // 如果点击当前页则返回\r\n    if ($a.parent().hasClass('active')) return\r\n\r\n    // 跳转到点击页面\r\n    if ($a.data('page')) self.to($a.data('page'))\r\n  })\r\n}\r\n\r\n// 默认配置\r\nPagination.DEFAULTS = {\r\n  firstLastBtn: true,\r\n  firstLastTxt: ['首页', '尾页'],\r\n  pages: 1,\r\n  page: 1,\r\n  pageTemplate: `\r\n    <li>\r\n      <a href=\"#\"></a>\r\n    </li>\r\n  `,\r\n  prevNextBtn: true,\r\n  prevNextTxt: ['上一页', '下一页']\r\n}\r\n\r\n/*\r\n * @description init\r\n */\r\nPagination.prototype.init = function() {\r\n  var page = this.options.page\r\n  var pages = this.options.pages\r\n  var pageTemplate = this.options.pageTemplate\r\n\r\n  this.$active = $(pageTemplate).appendTo(this.$el).addClass('active')\r\n\r\n  if (this.options.firstLastBtn) {\r\n    this.$first = $(pageTemplate).insertBefore(this.$active)\r\n    this.$first.find('a')\r\n      .on('click.by.pagination', $.proxy(this.first, this))\r\n      .text(this.options.firstLastTxt[0])\r\n\r\n    this.$last = $(pageTemplate).insertAfter(this.$active)\r\n    this.$last.find('a')\r\n      .on('click.by.pagination', $.proxy(this.last, this))\r\n      .text(this.options.firstLastTxt[1])\r\n  }\r\n\r\n  if (this.options.prevNextBtn) {\r\n    this.$prev = $(pageTemplate).insertBefore(this.$active)\r\n    this.$prev.find('a')\r\n      .on('click.by.pagination', $.proxy(this.prev, this))\r\n      .text(this.options.prevNextTxt[0])\r\n\r\n    this.$next = $(pageTemplate).insertAfter(this.$active)\r\n    this.$next.find('a')\r\n      .on('click.by.pagination', $.proxy(this.next, this))\r\n      .text(this.options.prevNextTxt[1])\r\n  }\r\n\r\n  if (pages > 1) {\r\n    this.$p1 = $(pageTemplate).insertBefore(this.$active)\r\n    this.$p1.find('a').data('page', 1).text(1)\r\n    this.$p2 = $(pageTemplate).insertAfter(this.$active)\r\n    this.$p2.find('a').data('page', pages).text(pages)\r\n  }\r\n\r\n  for (let i = 5; i >= 1; i--) {\r\n    if (pages >= i) {\r\n      this[`$minus${i}`] = $(pageTemplate).insertBefore(this.$active)\r\n      this[`$minus${i}`].find('a').data('page', page - i)\r\n      this[`$plus${i}`] = $(pageTemplate).insertAfter(this.$active)\r\n      this[`$plus${i}`].find('a').data('page', page + i)\r\n    }\r\n  }\r\n\r\n  if (pages > 7) {\r\n    this.$hellip1 = $(`\r\n      <li>\r\n        <span>&hellip;</span>\r\n      </li>\r\n      `).insertAfter(this.$p1)\r\n\r\n    this.$hellip2 = $(`\r\n      <li>\r\n        <span>&hellip;</span>\r\n      </li>\r\n      `).insertBefore(this.$p2)\r\n  }\r\n\r\n  this.render(this.options.page)\r\n}\r\n\r\n/*\r\n * @description to\r\n */\r\nPagination.prototype.to = function(page) {\r\n  this.options.page = parseInt(page) || 1\r\n  this.$el.trigger('page.by.pagination', this.options.page)\r\n  this.$active[0].focus()\r\n  this.render(this.options.page)\r\n}\r\n\r\n/*\r\n * @description first\r\n */\r\nPagination.prototype.first = function() {\r\n  if (this.options.page == 1) return\r\n  this.options.page = 1\r\n  this.to(1)\r\n}\r\n\r\n/*\r\n * @description prev\r\n */\r\nPagination.prototype.prev = function() {\r\n  if (this.options.page <= 1) return\r\n  this.options.page--\r\n  this.to(this.options.page)\r\n}\r\n\r\n/*\r\n * @description next\r\n */\r\nPagination.prototype.next = function() {\r\n  if (this.options.page >= this.options.pages) return\r\n  this.options.page++\r\n  this.to(this.options.page)\r\n}\r\n\r\n/*\r\n * @description last\r\n */\r\nPagination.prototype.last = function() {\r\n  if (this.options.page == this.options.pages) return\r\n  this.options.page = this.options.pages\r\n  this.to(this.options.pages)\r\n}\r\n\r\n/*\r\n * @description render\r\n */\r\nPagination.prototype.render = function(page) {\r\n  var pages = this.options.pages\r\n\r\n  this.$active.find('a').text(page)\r\n  this.$minus1.find('a').data('page', page - 1).text(page - 1)\r\n  this.$minus2.find('a').data('page', page - 2).text(page - 2)\r\n  \r\n  this.$plus1.find('a').data('page', page + 1).text(page + 1)\r\n  this.$plus2.find('a').data('page', page + 2).text(page + 2)\r\n\r\n  page > 2 ? this.$minus1.show() : this.$minus1.hide()\r\n  page > 3 ? this.$minus2.show() : this.$minus2.hide()\r\n  page < pages - 1 ? this.$plus1.show() : this.$plus1.hide()\r\n  page < pages - 2 ? this.$plus2.show() : this.$plus2.hide()\r\n\r\n  if (pages > 4) {\r\n    this.$minus3.find('a').data('page', page - 3).text(page - 3)\r\n    this.$plus3.find('a').data('page', page + 3).text(page + 3)\r\n    page > pages - 3 && page > 4 ? this.$minus3.show() : this.$minus3.hide()\r\n    page < 4 && page < pages - 3 ? this.$plus3.show() : this.$plus3.hide()\r\n  }\r\n\r\n  if (pages > 5) {\r\n    this.$minus4.find('a').data('page', page - 4).text(page - 4)\r\n    this.$plus4.find('a').data('page', page + 4).text(page + 4)\r\n    page > pages - 2 && page > 5 ? this.$minus4.show() : this.$minus4.hide()\r\n    page < 3 && page < pages - 4 ? this.$plus4.show() : this.$plus4.hide()\r\n  }\r\n\r\n  if (pages > 6) {\r\n    this.$minus5.find('a').data('page', page - 5).text(page - 5)\r\n    this.$plus5.find('a').data('page', page + 5).text(page + 5)\r\n    page > pages - 1 ? this.$minus5.show() : this.$minus5.hide()\r\n    page < 2 ? this.$plus5.show() : this.$plus5.hide()\r\n  }\r\n\r\n  // hellip\r\n  if (pages > 7) {\r\n    page > 4 ? this.$hellip1.show() : this.$hellip1.hide()\r\n    page < pages - 3 ? this.$hellip2.show() : this.$hellip2.hide()\r\n  }\r\n\r\n  page > 1 ? this.$p1.show() : this.$p1.hide()\r\n  page < pages ? this.$p2.show() : this.$p2.hide()\r\n\r\n  // prev/next\r\n  if (this.options.firstLastBtn) {\r\n    if (page == 1) {\r\n      this.$first.addClass('disabled')\r\n    } else {\r\n      this.$first.removeClass('disabled')\r\n    }\r\n\r\n    if (page == pages) {\r\n      this.$last.addClass('disabled')\r\n    } else {\r\n      this.$last.removeClass('disabled')\r\n    }\r\n  }\r\n\r\n  if (this.options.prevNextBtn) {\r\n    if (page == 1) {\r\n      this.$prev.addClass('disabled')\r\n    } else {\r\n      this.$prev.removeClass('disabled')\r\n    }\r\n\r\n    if (page == pages) {\r\n      this.$next.addClass('disabled')\r\n    } else {\r\n      this.$next.removeClass('disabled')\r\n    }\r\n  }\r\n}\r\n\r\nfunction Plugin(option) {\r\n  return this.each(function() {\r\n    var $this   = $(this)\r\n    var data    = $this.data('byPagination')\r\n    var options = $.extend({}, $this.data(), typeof option == 'object' && option)\r\n\r\n    if (!data) $this.data('byPagination', (data = new Pagination(this, options)))\r\n    if (typeof option == 'string' && typeof data[option] == 'function') data[option]()\r\n    if (typeof option == 'number') data.to(option)\r\n  })\r\n}\r\n\r\n$.fn.byPagination          = Plugin\r\n$.fn.byPagination.DEFAULTS = Pagination.DEFAULTS\r\n\r\n$(window).on('load.by.pagination', () => {\r\n  Plugin.call($('[data-init=\"by-pagination\"]'))\r\n})\r\n"],"sourceRoot":"/source/"}