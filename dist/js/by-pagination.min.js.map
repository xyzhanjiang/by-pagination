{"version":3,"sources":["by-pagination.js"],"names":["self","factory","define","exports","e","require","root","$a","jQuery","Pagination","element","options","this","$el","$","extend","DEFAULTS","firstLastTxt","on","pages","prevNextBtn","fn","byPagination","$this","data","option","_typeof","Symbol","hasClass","first","iterator","obj","parent","prev","constructor","firstLastBtn","Error","page","pageTemplate","$last","addClass","find","$p1","insertBefore","$active","$p2","insertAfter","text","$prev","prevNextTxt","$next","$hellip1","i","prototype","refresh","$hellip2","render","to","$minus1","last","$minus4","$minus5","$minus3","show","$plus3","hide","$plus4","removeClass","$first","$plus5","window"],"mappings":"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","file":"by-pagination.min.js","sourcesContent":["function Pagination(element, options) {\r\n  this.$el      = $(element)\r\n  this.options  = $.extend({}, Pagination.DEFAULTS, options)\r\n\r\n  this.init()\r\n\r\n  var self = this\r\n\r\n  // 绑定点击事件\r\n  this.$el.on('click.by.pagination', 'a', function(e) {\r\n    e.preventDefault()\r\n\r\n    var $a = $(this)\r\n\r\n    // 如果点击当前页则返回\r\n    if ($a.parent().hasClass('active')) return\r\n\r\n    if ($a.hasClass('by-pagination-first')) self.first()\r\n    else if ($a.hasClass('by-pagination-last')) self.last()\r\n    else if ($a.hasClass('by-pagination-prev')) self.prev()\r\n    else if ($a.hasClass('by-pagination-next')) self.next()\r\n\r\n    // 跳转到点击页面\r\n    else if ($a.data('page')) self.to($a.data('page'))\r\n  })\r\n}\r\n\r\n// 默认配置\r\nPagination.DEFAULTS = {\r\n  firstLastBtn: true,\r\n  firstLastTxt: ['首页', '尾页'],\r\n  pages: 1,\r\n  page: 1,\r\n  pageTemplate: `\r\n    <li>\r\n      <a href=\"#\"></a>\r\n    </li>\r\n  `,\r\n  prevNextBtn: true,\r\n  prevNextTxt: ['上一页', '下一页']\r\n}\r\n\r\n/*\r\n * @description 初始化\r\n */\r\nPagination.prototype.init = function() {\r\n\r\n  var page = this.options.page\r\n  var pages = this.options.pages\r\n  var pageTemplate = this.options.pageTemplate\r\n\r\n  if (typeof page != 'number' || typeof pages != 'number') {\r\n    throw new Error('Invalid page or pages number!')\r\n  }\r\n\r\n  if (page < 1 || pages < 1 || page > pages) {\r\n    throw new Error('Invalid page or pages number!')\r\n  }\r\n\r\n  // 生成当前页\r\n  this.$active = $(pageTemplate).appendTo(this.$el).addClass('by-pagination-active')\r\n\r\n  // 生成首页和尾页按钮\r\n  if (this.options.firstLastBtn) {\r\n    this.$first = $(pageTemplate).insertBefore(this.$active)\r\n    this.$first.find('a')\r\n      .addClass('by-pagination-first')\r\n      .text(this.options.firstLastTxt[0])\r\n\r\n    this.$last = $(pageTemplate).insertAfter(this.$active)\r\n    this.$last.find('a')\r\n      .addClass('by-pagination-last')\r\n      .text(this.options.firstLastTxt[1])\r\n  }\r\n\r\n  // 生成上一页和下一页按钮\r\n  if (this.options.prevNextBtn) {\r\n    this.$prev = $(pageTemplate).insertBefore(this.$active)\r\n    this.$prev.find('a')\r\n      .addClass('by-pagination-prev')\r\n      .text(this.options.prevNextTxt[0])\r\n\r\n    this.$next = $(pageTemplate).insertAfter(this.$active)\r\n    this.$next.find('a')\r\n      .addClass('by-pagination-next')\r\n      .text(this.options.prevNextTxt[1])\r\n  }\r\n\r\n  // 生成第一页和最后一页按钮\r\n  if (pages > 1) {\r\n    this.$p1 = $(pageTemplate).insertBefore(this.$active)\r\n    this.$p1.find('a').data('page', 1).text(1)\r\n    this.$p2 = $(pageTemplate).insertAfter(this.$active)\r\n    this.$p2.find('a').data('page', pages).text(pages)\r\n  }\r\n\r\n  // 生成当前页两边的页码按钮\r\n  for (let i = 5; i >= 1; i--) {\r\n    if (pages > i + 1) {\r\n      this[`$minus${i}`] = $(pageTemplate).insertBefore(this.$active)\r\n      this[`$minus${i}`].find('a').data('page', page - i)\r\n      this[`$plus${i}`] = $(pageTemplate).insertAfter(this.$active)\r\n      this[`$plus${i}`].find('a').data('page', page + i)\r\n    }\r\n  }\r\n\r\n  // 生成省略号\r\n  if (pages > 7) {\r\n    this.$hellip1 = $(`\r\n      <li>\r\n        <span>&hellip;</span>\r\n      </li>\r\n      `).insertAfter(this.$p1)\r\n\r\n    this.$hellip2 = $(`\r\n      <li>\r\n        <span>&hellip;</span>\r\n      </li>\r\n      `).insertBefore(this.$p2)\r\n  }\r\n\r\n  this.render(page)\r\n}\r\n\r\n/*\r\n * @description refresh\r\n * @param {Number} page 页码值\r\n */\r\nPagination.prototype.refresh = function(options) {\r\n  var page, pages\r\n\r\n  if (!options) return\r\n  page = options.page\r\n  pages = options.pages\r\n\r\n  if (typeof page != 'number' || typeof pages != 'number') {\r\n    throw new Error('Invalid page or pages number!')\r\n  }\r\n\r\n  if (page < 1 || pages < 1 || page > pages) {\r\n    throw new Error('Invalid page or pages number!')\r\n  }\r\n  this.options.page = page\r\n  this.options.pages = pages\r\n  this.$el.empty()\r\n\r\n  this.init()\r\n}\r\n\r\n/*\r\n * @description to\r\n * @param {Number} page 页码值\r\n */\r\nPagination.prototype.to = function(page) {\r\n  if (typeof page != 'number') {\r\n    throw new Error('Invalid page number')\r\n  }\r\n\r\n  if (page < 1 || page > this.options.pages) {\r\n    throw new Error('Invalid page number')\r\n  }\r\n\r\n  this.options.page = page\r\n  this.$el.trigger('page.by.pagination', page)\r\n  this.$active.find('a').focus()\r\n  this.render(page)\r\n}\r\n\r\n/*\r\n * @description 跳转到第一页\r\n */\r\nPagination.prototype.first = function() {\r\n  if (this.options.page == 1) return\r\n  this.options.page = 1\r\n  this.to(1)\r\n}\r\n\r\n/*\r\n * @description 上一页\r\n */\r\nPagination.prototype.prev = function() {\r\n  if (this.options.page <= 1) return\r\n  this.options.page--\r\n  this.to(this.options.page)\r\n}\r\n\r\n/*\r\n * @description 下一页\r\n */\r\nPagination.prototype.next = function() {\r\n  if (this.options.page >= this.options.pages) return\r\n  this.options.page++\r\n  this.to(this.options.page)\r\n}\r\n\r\n/*\r\n * @description 跳转到最后一页\r\n */\r\nPagination.prototype.last = function() {\r\n  if (this.options.page == this.options.pages) return\r\n  this.options.page = this.options.pages\r\n  this.to(this.options.pages)\r\n}\r\n\r\n/*\r\n * @description render\r\n */\r\nPagination.prototype.render = function(page) {\r\n  var pages = this.options.pages\r\n\r\n  this.$active.find('a').text(page)\r\n\r\n  if (pages > 1) {\r\n    page > 1 ? this.$p1.show() : this.$p1.hide()\r\n    page < pages ? this.$p2.show() : this.$p2.hide()\r\n  }\r\n\r\n  if (pages > 2) {\r\n    this.$minus1.find('a').data('page', page - 1).text(page - 1)\r\n    this.$plus1.find('a').data('page', page + 1).text(page + 1)\r\n    page > 2 ? this.$minus1.show() : this.$minus1.hide()\r\n    page < pages - 1 ? this.$plus1.show() : this.$plus1.hide()\r\n  }\r\n\r\n  if (pages > 3) {\r\n    this.$minus2.find('a').data('page', page - 2).text(page - 2)\r\n    this.$plus2.find('a').data('page', page + 2).text(page + 2)\r\n    page > 3 ? this.$minus2.show() : this.$minus2.hide()\r\n    page < pages - 2 ? this.$plus2.show() : this.$plus2.hide()\r\n  }\r\n\r\n  if (pages > 4) {\r\n    this.$minus3.find('a').data('page', page - 3).text(page - 3)\r\n    this.$plus3.find('a').data('page', page + 3).text(page + 3)\r\n    page > pages - 3 && page > 4 ? this.$minus3.show() : this.$minus3.hide()\r\n    page < 4 && page < pages - 3 ? this.$plus3.show() : this.$plus3.hide()\r\n  }\r\n\r\n  if (pages > 5) {\r\n    this.$minus4.find('a').data('page', page - 4).text(page - 4)\r\n    this.$plus4.find('a').data('page', page + 4).text(page + 4)\r\n    page > pages - 2 && page > 5 ? this.$minus4.show() : this.$minus4.hide()\r\n    page < 3 && page < pages - 4 ? this.$plus4.show() : this.$plus4.hide()\r\n  }\r\n\r\n  if (pages > 6) {\r\n    this.$minus5.find('a').data('page', page - 5).text(page - 5)\r\n    this.$plus5.find('a').data('page', page + 5).text(page + 5)\r\n    page > pages - 1 ? this.$minus5.show() : this.$minus5.hide()\r\n    page < 2 ? this.$plus5.show() : this.$plus5.hide()\r\n  }\r\n\r\n  // hellip\r\n  if (pages > 7) {\r\n    page > 4 ? this.$hellip1.show() : this.$hellip1.hide()\r\n    page < pages - 3 ? this.$hellip2.show() : this.$hellip2.hide()\r\n  }\r\n\r\n  // first last\r\n  if (this.options.firstLastBtn) {\r\n    if (page == 1) {\r\n      this.$first.addClass('by-pagination-disabled')\r\n    } else {\r\n      this.$first.removeClass('by-pagination-disabled')\r\n    }\r\n\r\n    if (page == pages) {\r\n      this.$last.addClass('by-pagination-disabled')\r\n    } else {\r\n      this.$last.removeClass('by-pagination-disabled')\r\n    }\r\n  }\r\n\r\n  // prev next\r\n  if (this.options.prevNextBtn) {\r\n    if (page == 1) {\r\n      this.$prev.addClass('by-pagination-disabled')\r\n    } else {\r\n      this.$prev.removeClass('by-pagination-disabled')\r\n    }\r\n\r\n    if (page == pages) {\r\n      this.$next.addClass('by-pagination-disabled')\r\n    } else {\r\n      this.$next.removeClass('by-pagination-disabled')\r\n    }\r\n  }\r\n}\r\n\r\nfunction Plugin(option) {\r\n  return this.each(function() {\r\n    var $this   = $(this)\r\n    var data    = $this.data('byPagination')\r\n    var options = $.extend({}, $this.data(), typeof option == 'object' && option)\r\n\r\n    if (!data) $this.data('byPagination', (data = new Pagination(this, options)))\r\n    // 重新初始化\r\n    else if (typeof option == 'object') {\r\n      if (data.options.pages != option.pages) {\r\n        data.refresh(option)\r\n      } else {\r\n        if (data.options.page != option.page) data.to(option.page)\r\n      }\r\n    }\r\n    if (typeof option == 'string' && typeof data[option] == 'function') data[option]()\r\n    if (typeof option == 'number') data.to(option)\r\n  })\r\n}\r\n\r\n$.fn.byPagination          = Plugin\r\n$.fn.byPagination.DEFAULTS = Pagination.DEFAULTS\r\n\r\n$(window).on('load.by.pagination', () => {\r\n  Plugin.call($('[data-init=\"by-pagination\"]'))\r\n})"],"sourceRoot":"/source/"}